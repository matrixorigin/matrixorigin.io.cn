# 最小生产环境

本篇文章介绍的 MatrixOne 分布式集群的最小生产配置可以用于生产环境，可以支撑千万级数据数百并发的 OLTP 业务，或者数十 GB 数据量的 OLAP 业务，同时有一定的高可用保障，3 节点如果有 1 个节点下线的情况下仍然可以正常工作。

## 硬件配置

最小生产环境部署规划的硬件配置要求如下：

| 硬件环境要求 | 物理机、虚拟机均可                                           |
| ------------ | ------------------------------------------------------------ |
| 设备台数     | 3 台                                                          |
| CPU 配置      | 8 核以上                                                      |
| 内存配置     | 32GB 以上                                                     |
| 磁盘配置     | 每节点1块系统盘 100G, 4-7块数据盘 100G, 均需要 PCIe NVME SSD 3.0 |
| 网卡配置     | 双万兆网口，万兆网卡及交换机                                 |

## 软件配置

最小生产环境部署规划的软件配置要求包括**操作系统及平台的要求**和**部署软件模块要求**：

### 操作系统及平台要求

| 操作系统                                   | 支持的 CPU 架构 |
| :----------------------------------------- | :-------------- |
| Debian 11 以上版本（Kernel 内核要求 5.0 以上） | X86_64          |

### 部署软件模块要求

| 节点名称 | 资源  | 节点角色       | 部署模块                                                     | 磁盘部署                                                     |
| -------- | ----- | -------------- | :----------------------------------------------------------- | ------------------------------------------------------------ |
| node0    | 8c32g | 管控/存储/计算 | 部署及运维工具 mo-ctl, Kubernetes master/node，Minio， MatrixOne Proxy，Logservice，TN，负载均衡 | Kubernetes 需要1块数据盘，Minio 需要 1 至 4 块数据盘（建议物理分盘，也可逻辑分盘）, Logservice 需要1块数据盘，TN 需要 1 块数据盘 |
| node1    | 8c32g | 管控/存储/计算 | 部署及运维工具 mo-ctl, Kubernetes master/node，Minio，MatrixOne Proxy，Logservice，CN，负载均衡 | Kubernetes 需要1块数据盘，Minio 需要1-4块数据盘（建议物理分盘，也可逻辑分盘）, Logservice 需要1块数据盘，CN需要1块数据盘 |
| node2    | 8c32g | 管控/存储/计算 | 部署及运维工具 mo-ctl, Kubernetes master/node，Minio，MatrixOne Proxy，Logservice，CN，负载均衡 | Kubernetes 需要 1 块数据盘，Minio需要1-4块数据盘（建议物理分盘，也可逻辑分盘）, Logservice 需要 1 块数据盘，CN 需要 1 块数据盘 |
